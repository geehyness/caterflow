<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanity Schema Documentation</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'forest' });
    </script>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/scripts.js" defer></script>
</head>

<body>
    <header>
        <div class="container">
            <h1>Sanity Schema Documentation</h1>
            <p>A detailed overview of the Sanity schemas used in the Caterflow system.</p>
        </div>
    </header>

    <div class="container">
        <div class="card">
            <h2 class="card-title">Schema Relationship Diagram</h2>
            <div class="mermaid-container">
                <div class="mermaid">
                    erDiagram
                    Site ||--o{ Bin : contains
                    Site ||--o{ AppUser : manages
                    Category ||--o{ StockItem : categorizes
                    Supplier ||--o{ StockItem : supplies
                    Supplier ||--o{ PurchaseOrder : provides
                    StockItem ||--o{ OrderedItem : ordered_in
                    StockItem ||--o{ ReceivedItem : received_in
                    StockItem ||--o{ DispatchedItem : dispatched_in
                    StockItem ||--o{ TransferredItem : transferred_in
                    StockItem ||--o{ AdjustedItem : adjusted_in
                    StockItem ||--o{ CountedItem : counted_in
                    PurchaseOrder ||--|| AppUser : ordered_by
                    PurchaseOrder ||--o{ OrderedItem : contains
                    PurchaseOrder ||--o{ ReceivedItem : from
                    PurchaseOrder ||--o{ InboundTransfer : related_to
                    DispatchLog ||--o{ DispatchedItem : contains
                    DispatchLog ||--|| AppUser : dispatched_by
                    DispatchLog ||--o{ OutboundTransfer : related_to
                    TransferLog ||--o{ TransferredItem : contains
                    TransferLog ||--|| AppUser : transferred_by
                    StockAdjustment ||--o{ AdjustedItem : contains
                    StockAdjustment ||--|| AppUser : adjusted_by
                    StocktakeCount ||--o{ CountedItem : contains
                    StocktakeCount ||--|| AppUser : counted_by
                </div>
            </div>
        </div>

        <div class="card">
            <h2 class="card-title">Schema Reference</h2>
            <input type="text" id="search-schemas" placeholder="Search schemas...">
            <div class="filter-buttons">
                <button class="button filter-button active" data-filter="all">All</button>
                <button class="button filter-button" data-filter="master-data">Master Data</button>
                <button class="button filter-button" data-filter="transaction-log">Transaction Logs</button>
                <button class="button filter-button" data-filter="document">Document</button>
            </div>
            <div class="schema-grid">
                <div class="card schema-card" data-type="master-data">
                    <h3>Site</h3>
                    <p>Represents a physical location or store where inventory is managed.</p>
                    <ul class="field-list">
                        <li><strong>title</strong> (string)</li>
                        <li><strong>slug</strong> (slug)</li>
                        <li><strong>address</strong> (string)</li>
                        <li><strong>phone</strong> (string)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="master-data">
                    <h3>Bin</h3>
                    <p>A specific storage location within a Site.</p>
                    <ul class="field-list">
                        <li><strong>name</strong> (string)</li>
                        <li><strong>site</strong> (reference to Site)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="master-data">
                    <h3>AppUser</h3>
                    <p>The user of the system with their roles and permissions.</p>
                    <ul class="field-list">
                        <li><strong>name</strong> (string)</li>
                        <li><strong>email</strong> (string)</li>
                        <li><strong>role</strong> (string)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="master-data">
                    <h3>StockItem</h3>
                    <p>An item managed in the inventory.</p>
                    <ul class="field-list">
                        <li><strong>name</strong> (string)</li>
                        <li><strong>sku</strong> (string)</li>
                        <li><strong>unit</strong> (string)</li>
                        <li><strong>category</strong> (reference to Category)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="transaction-log">
                    <h3>PurchaseOrder</h3>
                    <p>A record of an order placed with a supplier.</p>
                    <ul class="field-list">
                        <li><strong>orderNumber</strong> (string)</li>
                        <li><strong>supplier</strong> (reference to Supplier)</li>
                        <li><strong>orderDate</strong> (datetime)</li>
                        <li><strong>status</strong> (string)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="transaction-log">
                    <h3>DispatchLog</h3>
                    <p>A record of items being removed from inventory.</p>
                    <ul class="field-list">
                        <li><strong>dispatchNumber</strong> (string)</li>
                        <li><strong>site</strong> (reference to Site)</li>
                        <li><strong>dispatchDate</strong> (datetime)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="transaction-log">
                    <h3>TransferLog</h3>
                    <p>A record of items being moved between sites or bins.</p>
                    <ul class="field-list">
                        <li><strong>transferNumber</strong> (string)</li>
                        <li><strong>fromSite</strong> (reference to Site)</li>
                        <li><strong>toSite</strong> (reference to Site)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="transaction-log">
                    <h3>StockAdjustment</h3>
                    <p>A record of manual changes to stock levels.</p>
                    <ul class="field-list">
                        <li><strong>adjustmentDate</strong> (datetime)</li>
                        <li><strong>reason</strong> (string)</li>
                    </ul>
                </div>
                <div class="card schema-card" data-type="document">
                    <h3>Document</h3>
                    <p>A generic document schema for files and media.</p>
                    <ul class="field-list">
                        <li><strong>title</strong> (string)</li>
                        <li><strong>file</strong> (file)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>Caterflow by <a href="https://synapse-digital.vercel.app" target="_blank">Synapse</a> | Inventory Management
            System</p>
        <p>Â© 2023 Synapse. All rights reserved.</p>
    </footer>
</body>

</html>